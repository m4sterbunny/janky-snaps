{"version":3,"sources":["../src/commands/build/implementation.ts"],"sourcesContent":["import type { ProcessedWebpackConfig } from '../../config';\nimport type { WebpackOptions } from '../../webpack';\nimport { getCompiler } from '../../webpack';\n\n/**\n * Build the snap bundle. This uses Webpack to build the bundle.\n *\n * @param config - The config object.\n * @param options - The Webpack options.\n * @returns A promise that resolves when the bundle is built.\n */\nexport async function build(\n  config: ProcessedWebpackConfig,\n  options?: WebpackOptions,\n) {\n  const compiler = await getCompiler(config, options);\n  return await new Promise<void>((resolve, reject) => {\n    compiler.run((runError) => {\n      if (runError) {\n        reject(runError);\n        return;\n      }\n\n      compiler.close((closeError) => {\n        if (closeError) {\n          reject(closeError);\n          return;\n        }\n\n        resolve();\n      });\n    });\n  });\n}\n"],"mappings":";;;;;AAWA,eAAsB,MACpB,QACA,SACA;AACA,QAAM,WAAW,MAAM,YAAY,QAAQ,OAAO;AAClD,SAAO,MAAM,IAAI,QAAc,CAAC,SAAS,WAAW;AAClD,aAAS,IAAI,CAAC,aAAa;AACzB,UAAI,UAAU;AACZ,eAAO,QAAQ;AACf;AAAA,MACF;AAEA,eAAS,MAAM,CAAC,eAAe;AAC7B,YAAI,YAAY;AACd,iBAAO,UAAU;AACjB;AAAA,QACF;AAEA,gBAAQ;AAAA,MACV,CAAC;AAAA,IACH,CAAC;AAAA,EACH,CAAC;AACH;","names":[]}